metadata:
  test: true
plugins:
  source:
    - module: intake.catalog.tests.example1_source
    - dir: '{{ CATALOG_DIR }}/example_plugin_dir'
sources:
  simple_cache:
    description: simple example of caching
    driver: csv
    cache:
      - argkey: urlpath
        regex: 's3://bucket'
        sub: '{{ CACHE_DIR }}'
    args:
      urlpath: 's3://bucket/example1_*.csv'
  http_cache:
    description: cache a random csv file on the internet
    driver: csv
    cache:
      - argkey: urlpath
        regex: 'https://data.cityofnewyork.us/api/views/kku6-nxdu'
        sub: '{{ CACHE_DIR }}'
    args:
      urlpath: 'https://data.cityofnewyork.us/api/views/kku6-nxdu/rows.csv'